SBAG:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 1
		Prerequisites: fact, ~!structures.soviet, ~techlevel.low
		Description: Stops infantry and light vehicles.\nCan be crushed by tanks.\nBuilds further than Concrete walls.
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Sandbag Wall
	Health:
		HP: 150
	Armor:
		Type: Concrete
	LineBuild:
		NodeTypes: sandbag
		Range: 12
	LineBuildNode:
		Types: sandbag
	WithWallSpriteBody:
		Type: sandbag

FENC:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 1
		Prerequisites: fact, ~structures.soviet, ~techlevel.low
		Description: Stops infantry and light vehicles.\nCan be crushed by tanks.\nBuilds further than Concrete walls.
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Wire Fence
	Health:
		HP: 150
	Armor:
		Type: Concrete
	LineBuild:
		NodeTypes: fence
		Range: 12
	LineBuildNode:
		Types: fence
	WithWallSpriteBody:
		Type: fence

BARB:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 1
		Prerequisites: ~disabled
		Description: Stops infantry and light vehicles.\nCan be crushed by tracked vehicles.
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Barbed-Wire Fence
	Health:
		HP: 150
	Armor:
		Type: Concrete
	LineBuild:
		NodeTypes: barbwire
		Range: 12
	LineBuildNode:
		Types: barbwire
	WithWallSpriteBody:
		Type: barbwire

CYCL:
	Inherits: ^Wall
	Tooltip:
		Name: Chain-Link Barrier
	Armor:
		Type: Wood
	LineBuild:
		NodeTypes: chain
	LineBuildNode:
		Types: chain
	WithWallSpriteBody:
		Type: chain

WOOD:
	Inherits: ^Wall
	Tooltip:
		Name: Wooden Fence
	Armor:
		Type: Wood
	LineBuild:
		NodeTypes: woodfence
	LineBuildNode:
		Types: woodfence
	WithWallSpriteBody:
		Type: woodfence

BRIK:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 14
		Prerequisites: weap, ~techlevel.medium
		Description: Stop units and blocks enemy fire.\nCan be crushed by Mammoth Tanks.
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Concrete Wall
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	Health:
		HP: 400
	Armor:
		Type: Concrete
	Crushable:
		CrushClasses: heavywall
	BlocksProjectiles:
	LineBuild:
		NodeTypes: concrete, gate
	LineBuildNode:
		Types: concrete, gate
	WithWallSpriteBody:
		Type: concrete

HGATE:
	Inherits: ^Gate
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	Building:
		Footprint: xxx
		Dimensions: 3,1
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 15
		Prerequisites: weap, ~techlevel.medium
		Description: Places an horizontal gate.\nThe gate automatically opens for friendly units.\nBlocks enemy access into your base.
	Valued:
		Cost: 250
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !being-demolished
	CustomSellValue:
		Value: 50
	WithGateSpriteBody:
		WallConnections: -1,0, 3,0
	LineBuildNode:
		Connections: -1,0, 1,0
	Tooltip:
		Name: Gate - (horizontal)
	RevealsShroud:
		Range: 1c0
	RenderSprites:
		Image: hgate
		FactionImages:
			allies: hgate-allies
			usa: hgate-allies
			england: hgate-allies
			holland: hgate-allies
			france: hgate-allies
			germany: hgate-allies
			sweden: hgate-allies
			spain: hgate-allies
			italy: hgate-allies
			greece: hgate-allies
			turkey: hgate-allies
			soviet: hgate-soviet
			russia: hgate-soviet
			ukraine: hgate-soviet
			belarus: hgate-soviet
			karelia: hgate-soviet
			moldova: hgate-soviet
			kazakh: hgate-soviet
			uzbek: hgate-soviet
			china: hgate-soviet
			turkmen: hgate-soviet
			afghan: hgate-soviet

VGATE:
	Inherits: ^Gate
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536
	Building:
		Footprint: x x x
		Dimensions: 1,3
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 16
		Prerequisites: weap, ~techlevel.medium
		Description: Places an vertical gate.\nThe gate automatically opens for friendly units.\nBlocks enemy access into your base.
	Valued:
		Cost: 250
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !being-demolished
	CustomSellValue:
		Value: 50
	WithGateSpriteBody:
		WallConnections: 0,-1, 0,3
	LineBuildNode:
		Connections: 0,-1, 0,1
	Tooltip:
		Name: Gate I (vertical)
	RevealsShroud:
		Range: 1c0

PBOX:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGroundAntiInfDefense
	-WithColoredOverlay@EMPDISABLE:
	-TimedConditionBar@EMPDISABLE:
	-WithIdleOverlay@EMPDISABLE:
	-ExternalCondition@EMPDISABLE:
	-PowerMultiplier@EMPDISABLE:
	-GrantCondition@EMPDISABLE:
	-QuantizeFacingsFromSequence:
	-SpawnActorsOnSell:
	BodyOrientation:
		QuantizedFacings: 8
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 2
		Prerequisites: tent, ~structures.allies, ~techlevel.low
		Description: Static defense with\nMG emplacement.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Tooltip:
		Name: Pillbox
	Valued:
		Cost: 500
	Health:
		HP: 400
	Targetable@DontEMP:
		TargetTypes: EMPInvalid
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !build-incomplete
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 255
		Offset: 0,0,64
	Armament:
		Weapon: Vulcan
		MuzzleSequence: muzzle
		LocalOffset: 448,0,0
		PauseOnCondition: build-incomplete
	AttackTurreted:
		PauseOnCondition: build-incomplete
	WithMuzzleOverlay:
	RenderRangeCircle:
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: pbox.husk
		OwnerType: InternalName

HBOX:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGroundAntiInfDefense
	-WithColoredOverlay@EMPDISABLE:
	-TimedConditionBar@EMPDISABLE:
	-WithIdleOverlay@EMPDISABLE:
	-ExternalCondition@EMPDISABLE:
	-PowerMultiplier@EMPDISABLE:
	-GrantCondition@EMPDISABLE:
	-SpawnActorsOnSell:
	-MustBeDestroyed:
	-QuantizeFacingsFromSequence:
	BodyOrientation:
		QuantizedFacings: 8
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 5
		Prerequisites: tent, dome, ~structures.allies, ~techlevel.medium
		Description: Camouflaged static defense\nwith a Sniper inside.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Tooltip:
		Name: Camo Pillbox
	Valued:
		Cost: 800
	Health:
		HP: 400
	Targetable@DontEMP:
		TargetTypes: EMPInvalid
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !build-incomplete
	RenderDetectionCircle:
	Cloak:
		InitialDelay: 150
		CloakDelay: 75
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || build-incomplete
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Turreted:
		TurnSpeed: 255
		Offset: 0,0,64
	Armament:
		Weapon: Sniper
		MuzzleSequence: muzzle
		LocalOffset: 448,0,0
		PauseOnCondition: build-incomplete
	AttackTurreted:
		PauseOnCondition: build-incomplete
	WithMuzzleOverlay:
	RenderRangeCircle:
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: hbox.husk
		OwnerType: InternalName

FBOX:
	Inherits: PBOX
	-Armament:
	-SpawnActorOnDeath:
	-AutoTarget:
	-AutoTargetPriority@DEFAULT:
	-AutoTargetPriority@LOWER:
	-AutoTargetPriority@ATTACKANYTHING:
	Inherits@AUTOTARGET: ^AutoTargetGroundAntiInfandAirDefense
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 2
		Prerequisites: barr, ~structures.soviet, ~!player.karelia, ~techlevel.low
		Description: Static defense with\nFlak emplacement.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
		Icon: fboxicon
	Tooltip:
		Name: Flak Battery
	Valued:
		Cost: 650
	Turreted:
		TurnSpeed: 24
		Offset: 300,0,-20
		InitialFacing: 326
	Armament@AG:
		Name: primary
		Weapon: FLAK-23-AG
		Recoil: 42
		LocalOffset: 512,0,192
		MuzzleSequence: fbox-muzzle
	Armament@AA:
		Name: secondary
		Weapon: FLAK-23-AA-FBOX
		Recoil: 42
		LocalOffset: 512,0,192
		MuzzleSequence: fbox-muzzle
	AttackTurreted:
		Armaments: primary, secondary
	WithSpriteTurret:
		Sequence: fbox-turret
		RequiresCondition: !build-incomplete
	RenderSprites:
		Image: pbox
	SpawnActorOnDeath:
		Actor: fbox.husk
		OwnerType: InternalName

FTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@IDISABLE: ^DisableOnPowerDown
	-SpawnActorsOnSell:
	-QuantizeFacingsFromSequence:	
	BodyOrientation:
		QuantizedFacings: 8
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 4
		Prerequisites: weap, ~structures.soviet, ~!player.karelia, ~techlevel.medium
		Description: Anti-Infantry base defense.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Valued:
		Cost: 600
	Tooltip:
		Name: Flame Turret
	Health:
		HP: 400
	Armor:
		Type: Heavy
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled && !build-incomplete
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Turreted@RANGE:
		Turret: ranged-turret
		TurnSpeed: 255
		Offset: 0,0,112
	Turreted@MELEE:
		Turret: melee-turret
		TurnSpeed: 255
		Offset: 0,0,112
	Armament@RANGE:
		Name: primary
		Weapon: FireballLauncher
		LocalOffset: 512,0,0
		Turret: ranged-turret
		PauseOnCondition: disabled
	Armament@MELEE:
		Name: secondary
		Weapon: Flamespray.dual
		LocalOffset: 512,128,42, 512,-128,42
		MuzzleSequence: muzzle-spray
		Turret: melee-turret
		PauseOnCondition: empdisable
	AttackTurreted:
		Armaments: primary, secondary
		Turrets: ranged-turret, melee-turret
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	SpawnActorOnDeath:
		Actor: ftur.husk
		OwnerType: InternalName	

TSLA:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	-SpawnActorsOnSell:
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,40,0,-8
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 5
		Prerequisites: dome, ~structures.soviet, ~!player.karelia, ~techlevel.medium
		Description: Advanced base defense.\nTesla briefly short-circuits Vehicle and Ships.\nCan detect cloaked units.\n  Strong vs Vehicles, Infantry\n  Weak vs Aircraft
	Valued:
		Cost: 1200
	Tooltip:
		Name: Tesla Coil
	Health:
		HP: 400
	Armor:
		Type: Heavy
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Armament:
		Weapon: TeslaZap
		LocalOffset: 0,0,896
	AttackTesla:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
		ChargeAudio: tslachg2.aud
		MaxCharges: 3
		ReloadDelay: 120
	WithTeslaChargeAnimation:
	Targetable@ChargeTargeting:
		TargetTypes: Charge
		RequiresCondition: !TeslaHasCharge && lowpower
	GrantCondition@Overcharge:
		Condition: TeslaHasCharge
		RequiresCondition: TeslaChargeApplied
	ExternalCondition@Overcharge:
		Condition: TeslaChargeApplied
	WithDecoration@Overcharge:
		Image: poweroff
		Sequence: charging
		Position: BottomRight
		RequiresCondition: TeslaChargeApplied
	TimedConditionBar@Charged:
		Condition: TeslaChargeApplied
		Color: f4f442
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
		RequiresCondition: !TeslaChargeApplied
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown && !TeslaHasCharge && !empdisable
		Condition: disabled
	ToggleConditionOnOrder:
		DisabledSound: EnablePower
		EnabledSound: DisablePower
		Condition: powerdown
		OrderName: PowerDown
		RequiresCondition: !TeslaChargeApplied
	Power:
		Amount: -80
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: tsla.husk
		OwnerType: InternalName

PRIS:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 8
		Prerequisites: atek, ~structures.allies, ~allies.or.usa, ~techlevel.high
		Description: Advanced experimental base defense.\n  Can detect cloaked units.\n  Strong vs Vehicles, Infantry\n  Weak vs Aircraft
	Valued:
		Cost: 1500
	Tooltip:
		Name: Prism Tower
	Building:
	Selectable:
		DecorationBounds: 24,46,0,-10
	Health:
		HP: 350
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	WithSpriteBody:
		PauseOnCondition: disabled || empdisable
	WithPrismChargeAnimation:
	AttackPrismSupported:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
		ChargeAudio: bpripow.aud
		MaxCharges: 1
		ReloadDelay: 40
		SupportArmament: support
		ReceiverOffset: 0,0,896
		BuffCondition: prism-stack
	FirepowerMultiplier@STACK-1:
		RequiresCondition: prism-stack == 1
		Modifier: 150
	FirepowerMultiplier@STACK-2:
		RequiresCondition: prism-stack == 2
		Modifier: 200
	FirepowerMultiplier@STACK-3:
		RequiresCondition: prism-stack == 3
		Modifier: 250
	FirepowerMultiplier@STACK-4:
		RequiresCondition: prism-stack == 4
		Modifier: 300
	Armament:
		Weapon: PrisLaser
		LocalOffset: 0,-85,956
	Armament@support:
		Name: support
		Weapon: PrisLaserSupport
		LocalOffset: 0,0,1024
	WithDecoration@PrismChargeOne:
		Image: pips
		Sequence: one
		Position: Top
		RequiresCondition: prism-stack == 1
	WithDecoration@PrismChargeOne:
		Image: pips
		Sequence: two
		Position: Top
		RequiresCondition: prism-stack == 2
	WithDecoration@PrismChargeThree:
		Image: pips
		Sequence: three
		Position: Top
		RequiresCondition: prism-stack == 3
	WithDecoration@PrismChargeFour:
		Image: pips
		Sequence: four
		Position: Top
		RequiresCondition: prism-stack == 4
	Power:
		Amount: -80
	ProvidesPrerequisite@buildingname:
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished && !being-captured

GUN:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGroundAntiTankDefense
	Inherits@RangeBonus: ^AffectedByGreece
	-SpawnActorsOnSell:
	-ActorPreviewPlaceBuildingPreview:
	-BodyOrientation:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	ClassicFacingBodyOrientation:
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 4
		Prerequisites: weap, ~structures.allies, ~techlevel.medium
		Description: Anti-Armor base defense.\nCan detect cloaked units.\n  Strong vs Vehicles\n  Weak vs Infantry, Aircraft
	Valued:
		Cost: 700
	Tooltip:
		Name: Gun Turret
	Health:
		HP: 400
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled && !lowpower && !build-incomplete
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 32
		InitialFacing: 192
		RealignDelay: -1
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: TurretGun
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
		PauseOnCondition: disabled
	AttackTurreted:
		PauseOnCondition: disabled
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
		Recoils: false
	WithTurretAttackAnimation:
		Sequence: recoil
	WithMuzzleOverlay:
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	SpawnActorOnDeath:
		Actor: gun.husk
		OwnerType: InternalName

GTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x1Shape
	Inherits@RangeBonus: ^AffectedByGreece
	-SpawnActorsOnSell:
	-ActorPreviewPlaceBuildingPreview:
	-BodyOrientation:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	ClassicFacingBodyOrientation:
	Selectable:
		DecorationBounds: 34,22
	Building:
		Footprint: xx
		Dimensions: 2,1
		LocalCenterOffset: 0,-256,0
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 7
		BuildLimit: 1
		Prerequisites: atek, ~structures.allies, ~allies.or.greece, ~techlevel.high
		Description: Triple-barreled Artillery base defense.\nHas double the durability of standard Defenses.\nCan detect cloaked units.\nMaximum one can be built.\n  Strong vs Infantry, Vehicles, Ships\n  Weak vs Aircraft
	Valued:
		Cost: 1400
	Tooltip:
		Name: Grand Turret
	Health:
		HP: 800
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled && !build-incomplete
	RenderDetectionCircle:
	Turreted:
		TurnSpeed: 20
		InitialFacing: 0
		RealignDelay: -1
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
		Recoils: false
	WithBuildingBib:
		HasMinibib: true
	AttackTurreted:
		PauseOnCondition: disabled
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: 203mm
		MuzzleSequence: muzzle
		LocalOffset: 860,200,320, 860,0,320, 860,-200,320
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	ReloadArmamentsBar:
		Color: FFFF00
	Power:
		Amount: -80
		RequiresCondition: !build-incomplete
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false

GAP:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	-Capturable:
	-Capturable@2:
	-CaptureManager:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-ActorPreviewPlaceBuildingPreview:
	-ProductionTimeMultiplier@Sweden:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	WithSpriteBody:
		PauseOnCondition: disabled
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,48,0,-12
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	Buildable:
		Queue: Building
		BuildPaletteOrder: 11
		Prerequisites: techcenter, ~fact, ~!player.spain, ~techlevel.high
		Description: Obscures the enemy's view with shroud.\nRequires power to operate.\n  Special ability: Shroud Overcharge\nCan be Deployed when Charged\nto obscure an even greater area\nat cost of increased Power usage.
	Tooltip:
		Name: Gap Generator
	Valued:
		Cost: 1000
	Health:
		HP: 500
	Armor:
		Type: Heavy
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	CreatesShroud@Normal:
		Range: 9c0
		RequiresCondition: !disabled && !build-incomplete && !deployed
	CreatesShroud@Deployed:
		Range: 12c0
		RequiresCondition: !disabled && !build-incomplete && deployed
	WithRangeCircle@Normal:
		Color: 008B8B
		Width: 1
		BorderColor: 000000
		BorderWidth: 3
		Range: 9c0
		RequiresCondition: !deployed && !disabled
	WithRangeCircle@Deployed:
		Color: 008B8B
		Width: 1
		BorderColor: 000000
		BorderWidth: 3
		Range: 12c0
		RequiresCondition: deployed && !disabled
	Power:
		Amount: -80
		RequiresCondition: !build-incomplete && !deployed
	Power@Deployed:
		Amount: -120
		RequiresCondition: !build-incomplete && deployed
	MustBeDestroyed:
		RequiredForShortGame: false
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	SpawnActorOnDeath:
		Actor: gap.husk
		OwnerType: InternalName
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished
	GrantTimedConditionOnDeploy:
		DeployedCondition: deployed
		CooldownTicks: 1500
		DeployedTicks: 750
		PauseOnCondition: build-incomplete || disabled
	WithDecoration@Deployed:
		RequiresSelection: true
		Image: pips
		Sequence: tag-deployed
		Position: Top
		Margin: 0, -3
		RequiresCondition: deployed

PDOX:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x2Shape
	-ProductionTimeMultiplier@Sweden:
	Selectable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		TerrainTypes: Clear,Road
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 11
		BuildLimit: 1
		Prerequisites: atek, ~structures.allies, ~!player.germany, ~techlevel.unrestricted
		Description: Stores and recharges the Chronoshift power.\nMaximum one can be built.\n  Requires power to operate.\n  Special Ability: Chronoshift\nTeleports a group of units across\nthe map for 20 seconds duration.\nCan be Infiltrated by a Spy or Saboteur\nresulting in Timer reset.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Chronosphere
	Health:
		HP: 1000
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
		HasMinibib: true
	ChronoshiftPower@ChronoShift:
		OrderName: ChronoShiftPower
		PauseOnCondition: disabled
		Prerequisites: !aitoodumb
		Icon: chrono
		ChargeInterval: 4500
		Description: Chronoshift
		LongDesc: Teleports a group of units across\nthe map for 20 seconds.
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChronosphereCharging
		EndChargeSpeechNotification: ChronosphereReady
		Duration: 500
		KillCargo: true
		DisplayRadarPing: True
		Dimensions: 3, 3
		Footprint: xxx xxx xxx
		SupportPowerPaletteOrder: 2
		DisplayTimerRelationships: Ally
	DetonateWeaponPower@ChronoShiftAI:
		OrderName: ChronoShiftAI
		PauseOnCondition: disabled
		Prerequisites: aitoodumb
		Icon: chrono
		Cursor: ability
		ChargeInterval: 4500
		Description: Chronoshift
		ActivationDelay: 25
		LongDesc: Summons a group of units across the map.
		Weapon: ChronoAI
		AirburstAltitude: 0c0
		AllowMultiple: false
		CameraActor: camera
		CameraRemoveDelay: 375
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChronosphereCharging
		EndChargeSpeechNotification: ChronosphereReady
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayRadarPing: True
		LaunchSound: chrono2.aud
		IncomingSound: chrono2.aud
	SupportPowerChargeBar:
	Power:
		Amount: -200
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	SpawnActorOnDeath:
		Actor: pdox.husk
		OwnerType: InternalName
	GpsDot:
		String: Super
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate

IRON:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x1Shape
	-SpawnActorsOnSell:
	Selectable:
		Bounds: 48,28,0,2
		DecorationBounds: 50,50,0,-12
	Building:
		Footprint: xx
		Dimensions: 2,1
		TerrainTypes: Clear,Road
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 11
		BuildLimit: 1
		Prerequisites: stek, ~structures.soviet, ~techlevel.unrestricted
		Description: Stores and recharges the Invulnerability power.\nMaximum one can be built.\n  Requires power to operate.\n  Special Ability: Invulnerability\nMakes a group of units Invulnerable\nand Immune to EMP for a short time.\nCan be Infiltrated by a Spy or Saboteur\nresulting in Timer reset.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Iron Curtain
	Health:
		HP: 1000
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
		HasMinibib: true
	GrantExternalConditionPower@IRONCURTAIN:
		PauseOnCondition: disabled
		OrderName: IronCurtainPower
		Icon: invuln
		ChargeInterval: 4500
		Description: Invulnerability
		LongDesc: Makes a group of units Invulnerable and\nImmune to EMP for 20 seconds.
		Duration: 500
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: IronCurtainCharging
		EndChargeSpeechNotification: IronCurtainReady
		DisplayRadarPing: True
		Condition: invulnerability
		OnFireSound: ironcur9.aud
		SupportPowerPaletteOrder: 2
		DisplayTimerRelationships: Ally
		Dimensions: 3, 3
		Footprint: xxx xxx xxx
	SupportPowerChargeBar:
	Power:
		Amount: -200
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	SpawnActorOnDeath:
		Actor: iron.husk
		OwnerType: InternalName
	GpsDot:
		String: Super
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate

MSLO:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x1Shape
	-SpawnActorsOnSell:
	-ProductionTimeMultiplier@Sweden:
	Selectable:
		Bounds: 48,24
	Building:
		Footprint: xx
		Dimensions: 2,1
		TerrainTypes: Clear,Road
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 12
		BuildLimit: 1
		Prerequisites: techcenter, ~techlevel.unrestricted
		Description: Stores and prepares an atomic bomb.\nRequires power to operate.\nMaximum 1 can be built.\n  Special Ability: Atom Bomb\nLaunches a devastating atomic bomb at target location.\nCan be Infiltrated by a Spy or Saboteur\nresulting in Timer reset.
	Tooltip:
		Name: Missile Silo
	Valued:
		Cost: 2500
	Health:
		HP: 1000
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	NukePower@Normal:
		OrderName: NukeMissile
		PauseOnCondition: disabled
		RequiresCondition: !russia.player
		Cursor: nuke
		Icon: abomb
		ChargeInterval: 13500
		Description: Atom Bomb
		LongDesc: Launches a devastating atomic bomb at target location.
		BeginChargeSpeechNotification: AbombPrepping
		EndChargeSpeechNotification: AbombReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: AbombLaunchDetected
		MissileWeapon: atomic
		MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: atomicon
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 1
	NukePower@Faster:
		OrderName: AdvNukeMissile
		PauseOnCondition: disabled
		RequiresCondition: russia.player
		Cursor: nuke
		Icon: abomb
		ChargeInterval: 11250
		Description: Atom Bomb
		LongDesc: Launches a devastating atomic bomb at target location.
		BeginChargeSpeechNotification: AbombPrepping
		EndChargeSpeechNotification: AbombReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: AbombLaunchDetected
		MissileWeapon: atomic
		MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: atomicon
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 1
	GrantConditionOnFaction@faster:
		Condition: russia.player
		Factions: russia
		ResetOnOwnerChange: True
	SupportPowerChargeBar:
	Power:
		Amount: -150
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete
	Cloak:
		InitialDelay: 150
		CloakDelay: 75
		IsPlayerPalette: true
		UncloakOn: Attack, Damage
		CloakTypes: Cloak, Thief
		PauseOnCondition: cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	SpawnActorOnDeath:
		Actor: mslo.husk
		OwnerType: InternalName
	GpsDot:
		String: Nuke
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate

AGUN:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@RangeBonus: ^AffectedByGreece
	-SpawnActorsOnSell:
	-ActorPreviewPlaceBuildingPreview:
	-BodyOrientation:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	ClassicFacingBodyOrientation:
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,32,0,-4
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 6
		Prerequisites: dome, ~structures.allies, ~techlevel.medium
		Description: Anti-Air base defense.\nRequires power to operate.\n  Strong vs Aircraft\n  Weak vs Ground units
	Valued:
		Cost: 800
	Tooltip:
		Name: AA Gun
	Health:
		HP: 400
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 40
		InitialFacing: 820
		RealignDelay: -1
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
		Recoils: false
	WithTurretAttackAnimation:
		Sequence: recoil
	Armament:
		Name: primary
		Weapon: ZSU-23
		LocalOffset: 520,100,450, 520,-150,450
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo
	AmmoPool:
		Armaments: primary
		Ammo: 24
		AmmoCondition: ammo
		ReloadDelay: 6
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		PipCount: 6
		RequiresSelection: true
	ReloadAmmoPool:
		Delay: 42
		Count: 24
		RequiresCondition: !ammo
	WithDecoration@ammoreplenish:
		RequiresSelection: false
		Image: pips
		Sequence: tag-reload-small
		Position: Top
		Margin: 0, -6
		RequiresCondition: !ammo
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -50
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: agun.husk
		OwnerType: InternalName

PBAT:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	-BodyOrientation:
	-WithSpriteBody:
	-SpawnActorsOnSell:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 9
		BuildLimit: 1
		Prerequisites: atek, ~structures.allies, ~allies.or.holland, ~techlevel.high
		Description: Superior anti-air Defense.\nMaximum one can be built.\n  Can attack Aircraft only.
	Valued:
		Cost: 1200
	Tooltip:
		Name: Patriot Battery
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,32,0,-4
	Building:
		Footprint: x
		Dimensions: 1,1
	Health:
		HP: 400
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	Turreted:
		TurnSpeed: 16
		InitialFacing: 0
		RealignDelay: -1
	WithEmbeddedTurretSpriteBody:
	AttackTurreted:
		PauseOnCondition: disabled
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: Patriot
		LocalOffset: 768,-171,500, 768,171,500
		PauseOnCondition: disabled || !ammo
	AmmoPool:
		Armaments: primary
		Ammo: 8
		AmmoCondition: ammo
		ReloadDelay: 6
	ReloadAmmoPool:
		Delay: 86
		Count: 8
		RequiresCondition: !ammo
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		PipCount: 8
		RequiresSelection: true
	WithMuzzleOverlay:
	Power:
		Amount: -80
		RequiresCondition: !build-incomplete
	ClassicFacingBodyOrientation:

SAM:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@shape: ^2x1Shape
	-SpawnActorsOnSell:
	-ActorPreviewPlaceBuildingPreview:
	-BodyOrientation:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	Selectable:
		Bounds: 48,24
	HitShape:
		Type: Rectangle
			TopLeft: -768,-512
			BottomRight: 768,512
	Building:
		Footprint: xx
		Dimensions: 2,1
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 6
		Prerequisites: dome, ~structures.soviet, ~!player.karelia, ~techlevel.medium
		Description: Anti-Air base defense.\nRequires power to operate.\n  Strong vs Aircraft\n  Weak vs Ground units
	Valued:
		Cost: 700
	Tooltip:
		Name: SAM Site
	Health:
		HP: 400
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 40
		InitialFacing: 0
		RealignDelay: -1
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
		Recoils: false
	Armament:
		Weapon: Nike
		LocalOffset: 0,0,320
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo
	AmmoPool:
		Armaments: primary
		Ammo: 6
		AmmoCondition: ammo
		ReloadDelay: 15
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		PipCount: 6
		RequiresSelection: true
	ReloadAmmoPool:
		Delay: 42
		Count: 6
		RequiresCondition: !ammo
	WithDecoration@ammoreplenish:
		RequiresSelection: false
		Image: pips
		Sequence: tag-reload-small
		Position: Top
		Margin: 0, -6
		RequiresCondition: !ammo
		Offsets: 
			!ammo: 0, -11
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	ClassicFacingBodyOrientation:
	SpawnActorOnDeath:
		Actor: sam.husk
		OwnerType: InternalName

HSAM:
	Inherits: SAM
	-AttackTurreted:
	-WithBuildingBib:
	-SpawnActorOnDeath:
	-WithSpriteBody:
	-WithSpriteTurret:
	WithEmbeddedTurretSpriteBody:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 13
		Prerequisites: dome, stek, ~structures.soviet, ~!player.karelia, ~techlevel.high
		Description: Cloaked Anti-Air base defense.\n  Strong vs Aircraft.\n  Weak vs Ground units.
	Tooltip:
		Name: Camo SAM Site
	Valued:
		Cost: 850
	Turreted:
		RealignDelay: -1
	AttackPopupTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	Cloak:
		InitialDelay: 125
		CloakDelay: 75
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || empdisable || build-incomplete || is-shooting
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnAttack@UNCLOAK:
		Condition: is-shooting
		ArmamentNames: primary
		RevokeDelay: 75
	SpawnActorOnDeath:
		Actor: hsam.husk
		OwnerType: InternalName

SPMST:
	Inherits: ^Building
	Valued:
		Cost: 500
	Tooltip:
		Name: Spy Mast
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	Health:
		HP: 250
	Armor:
		Type: Wood
	Power:
		Amount: -10
	-Capturable:
	-Capturable@2:
	-CaptureManager:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-SpawnActorsOnSell:
	-ShakeOnDeath:
	-RepairableBuilding:
	-EngineerRepairable:
	-WithBuildingRepairDecoration:
	-GpsDot:
	-Demolishable:
	-SoundOnDamageTransition:
	-Sellable:
	-GivesBuildableArea:
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	RevealsShroud:
		Range: 9c256
		RequiresCondition: !build-incomplete && !disabled
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !build-incomplete && !disabled
	RenderDetectionCircle:
	Disguise:
		DisguisedCondition: disguised
		Voice: none
		ValidRelationships: Neutral
		TargetTypes: TreeDisguise
		DisguisedAsConditions:
			t01: isatree01
			t02: isatree02
			t03: isatree03
			t05: isatree05
			t06: isatree06
			t07: isatree07
			t08: isatree08
			t10: isatree10
			t11: isatree11
			t12: isatree12
			t13: isatree13
			t14: isatree14
			t15: isatree15
			t16: isatree16
			t17: isatree17
			t01.husk: isatree01husk
			t02.husk: isatree02husk
			t03.husk: isatree03husk
			t05.husk: isatree05husk
			t06.husk: isatree06husk
			t07.husk: isatree07husk
			t08.husk: isatree08husk
			t10.husk: isatree10husk
			t11.husk: isatree11husk
			t12.husk: isatree12husk
			t13.husk: isatree13husk
			t14.husk: isatree14husk
			t15.husk: isatree15husk
			t16.husk: isatree16husk
			t17.husk: isatree17husk
	IgnoresDisguise:
	-Tooltip:
	DisguiseTooltip@default:
		Name: Spy Mast
		GenericName: Building
		RequiresCondition: !isatree01 && !isatree02 && !isatree03 && !isatree05 && !isatree06 && !isatree07 && !isatree08 && !isatree10 && !isatree11 && !isatree12 && !isatree13 && !isatree14 && !isatree15 && !isatree16 && !isatree17 && !isatree01husk && !isatree02husk && !isatree03husk && !isatree05husk && !isatree06husk && !isatree07husk && !isatree08husk && !isatree10husk && !isatree11husk && !isatree12husk && !isatree13husk && !isatree14husk && !isatree15husk && !isatree16husk && !isatree17husk
	DisguiseTooltip@tree:
		Name: Spy Mast
		GenericName: Tree
		RequiresCondition: isatree01 && isatree02 && isatree03 && isatree05 && isatree06 && isatree07 && isatree08 && isatree10 && isatree11 && isatree12 && isatree13 && isatree14 && isatree15 && isatree16 && isatree17
	DisguiseTooltip@treehusk:
		Name: Spy Mast
		GenericName: Tree (Burnt)
		RequiresCondition: isatree01husk && isatree02husk && isatree03husk && isatree05husk && isatree06husk && isatree07husk && isatree08husk && isatree10husk && isatree11husk && isatree12husk && isatree13husk && isatree14husk && isatree15husk && isatree16husk && isatree17husk
	Targetable:
		TargetTypes: Ground, Structure, TreeDisguise
		RequiresCondition: !disguised
	Targetable@disguised:
		TargetTypes: Ground, Trees, TreeDisguise, NoAutoTarget
		RequiresForceFire: true
		RequiresCondition: disguised
	-WithSpriteBody:
	WithSpriteBody@Default:
		PauseOnCondition: isatree01 && isatree02 && isatree03 && isatree05 && isatree06 && isatree07 && isatree08 && isatree10 && isatree11 && isatree12 && isatree13 && isatree14 && isatree15 && isatree16 && isatree17 && isatree01husk && isatree02husk && isatree03husk && isatree05husk && isatree06husk && isatree07husk && isatree08husk && isatree10husk && isatree11husk && isatree12husk && isatree13husk && isatree14husk && isatree15husk && isatree16husk && isatree17husk
		RequiresCondition: !isatree01 && !isatree02 && !isatree03 && !isatree05 && !isatree06 && !isatree07 && !isatree08 && !isatree10 && !isatree11 && !isatree12 && !isatree13 && !isatree14 && !isatree15 && !isatree16 && !isatree17 && !isatree01husk && !isatree02husk && !isatree03husk && !isatree05husk && !isatree06husk && !isatree07husk && !isatree08husk && !isatree10husk && !isatree11husk && !isatree12husk && !isatree13husk && !isatree14husk && !isatree15husk && !isatree16husk && !isatree17husk
	WithSpriteBody@tree01:
		Name: tree01
		Sequence: tree01
		RequiresCondition: isatree01
	WithSpriteBody@tree02:
		Name: tree02
		Sequence: tree02
		RequiresCondition: isatree02
	WithSpriteBody@tree03:
		Name: tree03
		Sequence: tree03
		RequiresCondition: isatree03
	WithSpriteBody@tree05:
		Name: tree05
		Sequence: tree05
		RequiresCondition: isatree05
	WithSpriteBody@tree06:
		Name: tree06
		Sequence: tree06
		RequiresCondition: isatree06
	WithSpriteBody@tree07:
		Name: tree07
		Sequence: tree07
		RequiresCondition: isatree07
	WithSpriteBody@tree08:
		Name: tree08
		Sequence: tree08
		RequiresCondition: isatree08
	WithSpriteBody@tree10:
		Name: tree10
		Sequence: tree10
		RequiresCondition: isatree10
	WithSpriteBody@tree11:
		Name: tree11
		Sequence: tree11
		RequiresCondition: isatree11
	WithSpriteBody@tree12:
		Name: tree12
		Sequence: tree12
		RequiresCondition: isatree12
	WithSpriteBody@tree13:
		Name: tree13
		Sequence: tree13
		RequiresCondition: isatree13
	WithSpriteBody@tree14:
		Name: tree14
		Sequence: tree14
		RequiresCondition: isatree14
	WithSpriteBody@tree15:
		Name: tree15
		Sequence: tree15
		RequiresCondition: isatree15
	WithSpriteBody@tree16:
		Name: tree16
		Sequence: tree16
		RequiresCondition: isatree16
	WithSpriteBody@tree17:
		Name: tree17
		Sequence: tree17
		RequiresCondition: isatree17
	WithSpriteBody@tree01husk:
		Name: tree01husk
		Sequence: tree01husk
		RequiresCondition: isatree01husk
	WithSpriteBody@tree02husk:
		Name: tree02husk
		Sequence: tree02husk
		RequiresCondition: isatree02husk
	WithSpriteBody@tree03husk:
		Name: tree03husk
		Sequence: tree03husk
		RequiresCondition: isatree03husk
	WithSpriteBody@tree05husk:
		Name: tree05husk
		Sequence: tree05husk
		RequiresCondition: isatree05husk
	WithSpriteBody@tree06husk:
		Name: tree06husk
		Sequence: tree06husk
		RequiresCondition: isatree06husk
	WithSpriteBody@tree07husk:
		Name: tree07husk
		Sequence: tree07husk
		RequiresCondition: isatree07husk
	WithSpriteBody@tree08husk:
		Name: tree08husk
		Sequence: tree08husk
		RequiresCondition: isatree08husk
	WithSpriteBody@tree10husk:
		Name: tree10husk
		Sequence: tree10husk
		RequiresCondition: isatree10husk
	WithSpriteBody@tree11husk:
		Name: tree11husk
		Sequence: tree11husk
		RequiresCondition: isatree11husk
	WithSpriteBody@tree12husk:
		Name: tree12husk
		Sequence: tree12husk
		RequiresCondition: isatree12husk
	WithSpriteBody@tree13husk:
		Name: tree13husk
		Sequence: tree13husk
		RequiresCondition: isatree13husk
	WithSpriteBody@tree14husk:
		Name: tree14husk
		Sequence: tree14husk
		RequiresCondition: isatree14husk
	WithSpriteBody@tree15husk:
		Name: tree15husk
		Sequence: tree15husk
		RequiresCondition: isatree15husk
	WithSpriteBody@tree16husk:
		Name: tree16husk
		Sequence: tree16husk
		RequiresCondition: isatree16husk
	WithSpriteBody@tree17husk:
		Name: tree17husk
		Sequence: tree17husk
		RequiresCondition: isatree17husk
	Selectable:
		Bounds: 24,48,0,-12
	MustBeDestroyed:
		RequiredForShortGame: false
	Targetable@AIFixer:
		TargetTypes: IgnoreThis
	ProximityExternalCondition@JAMMER:
		Range: 8c0
		ValidRelationships: Enemy, Neutral
		Condition: jammed
		RequiresCondition: !lowpower && holland.player
	WithRangeCircle@JAMMER:
		Type: jammer
		Range: 8c0
		Color: 0000FF80
		RequiresCondition: !lowpower && holland.player
	GrantConditionOnFaction@NLBonus:
		Condition: holland.player
		Factions: holland
		ResetOnOwnerChange: True
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical

SPMST.summon:
	Inherits: ^SummonBuilding
	GrantDelayedCondition:
		Condition: detonatetospawn
		Delay: 6
	SpawnActorOnDeath:
		Actor: spmst
		RequiresCondition: detonatetospawn
	KillsSelf:
		RequiresCondition: detonatetospawn
	RenderSprites:
		Image: dummy

FTUR.popup:
	Inherits: FTUR
	-WithSpriteBody:
	-Buildable:
	-SpawnActorOnDeath:
	-AttackTurreted:
	-WithBuildingBib:
	Tooltip:
		Name: Camo Flame Turret
	Turreted@RANGE:
		RealignDelay: -1
	Turreted@MELEE:
		RealignDelay: -1
	AttackPopupTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
		CloseDelay: 50
		Turrets: melee-turret, ranged-turret
	WithEmbeddedTurretSpriteBody:
	Cloak:
		InitialDelay: 125
		CloakDelay: 75
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || empdisable || is-shooting || build-incomplete
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionWhileAiming@UNCLOAK:
		Condition: is-shooting
	RenderSprites:
		Image: ftur.hidden
	QuantizeFacingsFromSequence:
	BodyOrientation:

FTUR.summon:
	Inherits: ^SummonBuilding
	GrantDelayedCondition:
		Condition: detonatetospawn
		Delay: 3
	SpawnActorOnDeath:
		Actor: ftur.popup
		RequiresCondition: detonatetospawn
	KillsSelf:
		RequiresCondition: detonatetospawn
	RenderSprites:
		Image: dummy

PBOX.empty:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@CARGOPIPS: ^CargoPips
	-WithColoredOverlay@EMPDISABLE:
	-TimedConditionBar@EMPDISABLE:
	-WithIdleOverlay@EMPDISABLE:
	-ExternalCondition@EMPDISABLE:
	-PowerMultiplier@EMPDISABLE:
	-GrantCondition@EMPDISABLE:
	-QuantizeFacingsFromSequence:
	-SpawnActorsOnSell:
	Tooltip:
		Name: Pillbox
	Building:
	Valued:
		Cost: 600
	CustomSellValue:
		Value: 400
	Health:
		HP: 400
	Targetable@DontEMP:
		TargetTypes: EMPInvalid
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 256
	BodyOrientation:
		QuantizedFacings: 8
	EngineerRepairable:
		RequiresCondition: damaged
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Light, Medium, Heavy, Critical
	Cargo:
		Types: Infantry
		MaxWeight: 1
		LoadedCondition: hasinside
	AttackGarrisoned:
		RequiresCondition: !build-incomplete
		Armaments: garrisoned
		PortOffsets: 384,0,128, 224,-341,128, -224,-341,128, -384,0,128, -224,341,128, 224,341,128
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
	RenderRangeCircle:
		FallbackRange: 6c0
	Power:
		Amount: -20
	DetectCloaked:
		Range: 3c768
		RequiresCondition: hasinside && !build-incomplete
	RenderSprites:
		Image: pbox

PBOX.summon:
	Inherits: ^SummonBuilding
	GrantDelayedCondition:
		Condition: detonatetospawn
		Delay: 3
	SpawnActorOnDeath:
		Actor: pbox.empty
		RequiresCondition: detonatetospawn
	KillsSelf:
		RequiresCondition: detonatetospawn
	RenderSprites:
		Image: dummy
